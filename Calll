MainActivity.java 

package com.example.gridcalculator;

import androidx.appcompat.app.AppCompatActivity;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;
import android.widget.Toast;

public class MainActivity extends AppCompatActivity {

    EditText input;
    String currentInput = "";
    double firstNumber = 0;
    String operator = "";

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        input = findViewById(R.id.input);

        int[] buttonIds = {
                R.id.btn0, R.id.btn1, R.id.btn2, R.id.btn3, R.id.btn4,
                R.id.btn5, R.id.btn6, R.id.btn7, R.id.btn8, R.id.btn9,
                R.id.btnAdd, R.id.btnSub, R.id.btnMul, R.id.btnDiv,
                R.id.btnClear, R.id.btnEqual, R.id.btnDot
        };

        View.OnClickListener listener = new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                Button b = (Button) v;
                String text = b.getText().toString();

                switch (text) {
                    case "C":
                        currentInput = "";
                        firstNumber = 0;
                        operator = "";
                        input.setText("");
                        break;
                    case "+":
                    case "-":
                    case "*":
                    case "/":
                        try {
                            firstNumber = Double.parseDouble(currentInput);
                            operator = text;
                            currentInput = "";
                        } catch (NumberFormatException e) {
                            input.setText("Error");
                        }
                        break;
                    case "=":
                        try {
                            double secondNumber = Double.parseDouble(currentInput);
                            double result = 0;
                            switch (operator) {
                                case "+": result = firstNumber + secondNumber; break;
                                case "-": result = firstNumber - secondNumber; break;
                                case "*": result = firstNumber * secondNumber; break;
                                case "/":
                                    if(secondNumber != 0)
                                        result = firstNumber / secondNumber;
                                    else {
                                        input.setText("Error: Div by 0");
                                        return;
                                    }
                                    break;
                            }
                            input.setText(String.valueOf(result));
                            currentInput = String.valueOf(result);
                            operator = "";
                        } catch (NumberFormatException e) {
                            input.setText("Error");
                        }
                        break;
                    default:
                        currentInput += text;
                        input.setText(currentInput);
                }
            }
        };

        for (int id : buttonIds) {
            findViewById(id).setOnClickListener(listener);
        }
    }
}


activity  xml


<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:orientation="vertical"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="10dp">

    <!-- Display -->
    <EditText
        android:id="@+id/input"
        android:layout_width="match_parent"
        android:layout_height="70dp"
        android:gravity="right"
        android:textSize="30sp"
        android:inputType="none"
        android:focusable="false"
        android:background="@android:color/darker_gray"/>

    <!-- GridLayout for buttons -->
    <GridLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:columnCount="4"
        android:rowCount="5"
        android:layout_marginTop="10dp">

        <!-- Numbers -->
        <Button android:id="@+id/btn7" android:text="7" style="@style/CalcButton"/>
        <Button android:id="@+id/btn8" android:text="8" style="@style/CalcButton"/>
        <Button android:id="@+id/btn9" android:text="9" style="@style/CalcButton"/>
        <Button android:id="@+id/btnDiv" android:text="/" style="@style/CalcButton"/>

        <Button android:id="@+id/btn4" android:text="4" style="@style/CalcButton"/>
        <Button android:id="@+id/btn5" android:text="5" style="@style/CalcButton"/>
        <Button android:id="@+id/btn6" android:text="6" style="@style/CalcButton"/>
        <Button android:id="@+id/btnMul" android:text="*" style="@style/CalcButton"/>

        <Button android:id="@+id/btn1" android:text="1" style="@style/CalcButton"/>
        <Button android:id="@+id/btn2" android:text="2" style="@style/CalcButton"/>
        <Button android:id="@+id/btn3" android:text="3" style="@style/CalcButton"/>
        <Button android:id="@+id/btnSub" android:text="-" style="@style/CalcButton"/>

        <Button android:id="@+id/btn0" android:text="0" style="@style/CalcButton"/>
        <Button android:id="@+id/btnDot" android:text="." style="@style/CalcButton"/>
        <Button android:id="@+id/btnEqual" android:text="=" style="@style/CalcButton"/>
        <Button android:id="@+id/btnAdd" android:text="+" style="@style/CalcButton"/>

        <Button android:id="@+id/btnClear" android:text="C" style="@style/CalcButton"/>
    </GridLayout>
</LinearLayout>
